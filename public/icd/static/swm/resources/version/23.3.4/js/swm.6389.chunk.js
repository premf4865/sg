"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6389],{66389:function(e,t,n){var r=n(2891),a=n(79398),u=n(24590),l=n(96626),s=n(49081),o=n(22923),i=n(78636),f=n(50573),d=n(56995);function c(){var e=r(n(91221));return c=function(){return e},e}function p(){var e=r(n(32587));return p=function(){return e},e}function h(){var e=r(n(59925));return h=function(){return e},e}function m(){var e=r(n(43755));return m=function(){return e},e}function v(){var e=r(n(34867));return v=function(){return e},e}n(6925),n(79160),a(t,"__esModule",{value:!0}),t.default=void 0,n(13079);var E=r(n(97521)),w=r(n(90807)),C=r(n(47122)),b=r(n(50020)),g=r(n(7972));function _(e,t){var n=d(e);if(f){var r=f(e);t&&(r=i(r).call(r,(function(t){return o(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?s(n=_(Object(i),!0)).call(n,(function(t){(0,h().default)(e,t,i[t])})):l?u(e,l(i)):s(r=_(Object(i))).call(r,(function(t){a(e,t,o(i,t))}))}return e}var M,S,x,k={};function A(e,t){return O.apply(this,arguments)}function O(){return(O=(0,m().default)(p().default.mark((function e(t,n){var r,a,u,l;return p().default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={passwd_op:w.default.authent.PASSWD_OP},a=y(y({},r),{},{passwd:n,identifiant:t}),!C.default.isCyp7rSupported){e.next=12;break}return e.next=5,C.default.cyp7r(t);case 5:return u=e.sent,e.next=8,C.default.cyp7r(n);case 8:if((l=e.sent)&&u){e.next=11;break}return e.abrupt("return",a);case 11:return e.abrupt("return",y(y({},r),{},{cyph_passwd:l,cyph_identifiant:u}));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=(0,m().default)(p().default.mark((function e(t,n){var r;return p().default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A((0,c().default)(t).call(t),n);case 2:r=e.sent,E.default.ajax({type:"POST",url:C.default.getUrl(w.default.urls.authent_prospect),data:r,swmIntercept:!1,success:function(e){g.default.handleResponseSuccess(e,S,x)},error:function(e){g.default.handleResponseHttpError(e,S,(function(){}))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){M.onValidation((function(e,t){return function(e,t){return P.apply(this,arguments)}(e,t)}))}k.init=function(){b.default.debug("[SWM] - swm.authentMailProspect - init"),g.default.register(w.default.statut.OK,{handler:function(e){C.default.sasUnavailabilityReasonSpellChecking(e)}}),g.default.register(w.default.statut.NOK,{handler:function(){return(0,E.default)("#js-error").hasClass("show")||C.default.showErrorMessage("Votre email ou votre mot de passe semblent erronés."),(0,E.default)("#user_email").addClass("is-invalid"),(0,E.default)("#user_mdp").addClass("is-invalid"),!1}}),g.default.register(w.default.raison.ACCES_BLOQ,{handler:function(){return C.default.showErrorMessage("Votre email ou votre mot de passe semblent erronés."),!1}}),g.default.register(w.default.raison.ABO_RESILIE,{handler:function(){return C.default.showErrorMessage("Votre email ou votre mot de passe semblent erronés."),!1}}),g.default.register(w.default.raison.ERR_TECH,{handler:function(){return C.default.showErrorMessage("Service momentanément indisponible. Veuillez réessayer."),!1}}),g.default.register([w.default.raison.ECHEC_AUTHENT,w.default.raison.EIE.ECHEC_AUTHENT],{handler:function(){C.default.showErrorMessage("Votre email ou votre mot de passe semblent erronés."),(0,E.default)("#user_mdp").addClass("is-invalid"),(0,E.default)("#user_email").addClass("is-invalid")}}),H()},k.handleAuthent=function(e,t){return S=t,x=function(){C.default.removeSwmContent(),e()},C.default.loadPageConnexion((function(){var e=(0,E.default)("#templateComponentAuthentMailProspect")[0].text,t=v().default.template(e);(0,E.default)("#swmModulesAuth").html(t()),(0,E.default)("body").addClass("eer-page"),C.default.clearError(),C.default.retryImportingModule((function(){return n.e(5657).then(n.t.bind(n,35657,23))})).then((function(e){var t=e.default;M=new t({container:(0,E.default)("#module-authent-mailProspect .container-mire-prospect")}),k.init()})).catch((function(e){return C.default.onModuleLoadError(e)}))})),!0};t.default=k}}]);