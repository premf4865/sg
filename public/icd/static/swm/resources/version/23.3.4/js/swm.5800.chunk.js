"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5800],{35800:function(t,e,n){var u=n(2891);function a(){var t=u(n(13912));return a=function(){return t},t}function l(){var t=u(n(26035));return l=function(){return t},t}function o(){var t=u(n(1874));return o=function(){return t},t}function f(){var t=u(n(84178));return f=function(){return t},t}function r(){var t=u(n(34867));return r=function(){return t},t}n(79398)(e,"__esModule",{value:!0}),e.default=void 0;var i,d=u(n(7891)),c=u(n(25869)),s=u(n(97521)),m=u(n(90807)),v=u(n(47122)),p=u(n(50020)),h=u(n(49507)),b={},g={},w=[],y=[],k=function(){return g.$container.hide()},_=function(){k(),v.default.hideOverlay()};function x(t,e,n){var u,a;s.default.ajax({url:v.default.getUrl(m.default.urls.authent_jeton),data:(u=e,a={},a.jeton=d.default.getJeton(),a.top_code_etoile="1",null!=u&&"object"===(0,f().default)(u.chgtnivauth)&&void 0!==u.chgtnivauth.cible&&(a.cible=u.chgtnivauth.cible),a),swmIntercept:!1,success:function(e){!function(t,e,n){var u=e||function(){},a=h.default.parseResponseSAS(t);null!=a?("function"==typeof y[a.commun.raison]&&y[a.commun.raison](a),"function"==typeof w[a.commun.statut]&&w[a.commun.statut](a),a.commun.statut===m.default.statut.NOK?n():u(a)):u(t)}(e,t,n)},error:function(n,u,a){!function(t,e,n,u,a){"timeout"===t.statusText&&"function"==typeof a?(0,o().default)(a,5e3):u(e)}(n,a,0,t,(function(){b.handleAuthent(t,e)}))}})}w[m.default.statut.NOK]=function(){return d.default.resetAllData()},w[m.default.statut.OK]=function(t){(0,s.default)(document).triggerExternal("swm.postchgtnivauth"),d.default.setCodeClientEtoile(t.donnees.code_etoile),d.default.setIdStat(t.donnees.id_stat),d.default.setSessionState(1)};var S=function(t,e,n){var u;g.$body=(0,s.default)("body"),g.$container=(0,s.default)(".swm-popin-wrapper"),g.$popin=(0,s.default)("#oob-popin"),i||(u=(0,s.default)("#templateOobaDisplayProfil")[0].text,i=r().default.template(u)),k();var a=d.default.getJetonNames();if(null!=a){var o;v.default.loadStyles();var f={profils:a},c=(0,s.default)(i(f));g.$popin.html(c);for(var m=0;m<a.length;m++)o="#",o+=a[m],(0,s.default)(o).swmvclick(_),(0,s.default)(o).swmvclick((function(){d.default.setMultiJetonIndex((0,l().default)(this.value,10)),d.default.setMultiIsNewJeton(!1),x(t,e,n)}));(0,s.default)("#oob-btn-droite").swmvclick((function(){v.default.removeSwmContent(),d.default.setMultiJetonIndex(-1),d.default.setMultiIsNewJeton(!0),n()})),(0,s.default)("#swm-popin-btn-fermer").swmvclick(_),g.$container.show()}else p.default.error("[SWM] - Error format Jeton.")};function I(t,e,n){s.default.ajax({url:v.default.getUrl(m.default.urls.page_signature),swmIntercept:!1,success:function(u){var l=(0,s.default)(u);(0,a().default)(l).call(l,".swm-header").remove(),(0,s.default)("#inlinekeyboard").remove(),(0,s.default)(document.body.lastChild).after(l),function(t,e,n){s.default.ajax({url:v.default.getUrl(m.default.urls.ooba.fragment),swmIntercept:!1,success:function(u){var a="#sign-content";(0,s.default)(a).hide(),(0,s.default)("#swm-popin-ombre-lat").html(u),(0,s.default)(a).show(),v.default.showOverlay(),S(t,e,n),(0,s.default)("body").animate({scrollTop:(0,s.default)(a).offset().top-5})}})}(t,e,n)}})}b.handleAuthent=function(t,e,n){return function(t){return!!(v.default.are_cookies_enabled()&&null!=d.default.getJeton()&&t&&t.chgtnivauth&&t.chgtnivauth.cible)}(e)?(d.default.clearAllDataDerniereConnexion(),c.default.isMultiProfil?I(t,e,n):x(t,e,n),!0):(p.default.debug("[SWM] - Procédure d'authent jeton ignorée."),!1)};e.default=b}}]);